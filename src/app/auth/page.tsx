"use client";

import React, { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import CustomInput from "@/components/customInput";
import { useLogin } from "@/features/login";

export default function LoginForm() {
	const [email, setEmail] = useState("");
	const [password, setPassword] = useState("");
	const loginMutation = useLogin();

	const handleSubmit = (e: React.FormEvent) => {
		e.preventDefault();
		loginMutation.mutate({ email, password });
	};

	return (
		<div className="w-full h-screen flex justify-center items-center">
			<Card className="w-full max-w-md overflow-hidden">
				<CardContent className="p-6">
					<div className="flex flex-col  items-center space-y-6">
						<div className="">
							<svg
								width="136"
								height="136"
								viewBox="0 0 136 136"
								fill="none"
								xmlns="http://www.w3.org/2000/svg"
							>
								<g clip-path="url(#clip0_3293_7236)">
									<path
										d="M136 68C136 105.555 105.555 136 68 136C30.4446 136 0 105.555 0 68C0 30.4446 30.4446 0 68 0C105.555 0 136 30.4446 136 68Z"
										fill="#1D2633"
									/>
									<path
										d="M118.513 85.3628C120.81 85.3628 122.443 87.5946 121.579 89.7223C112.993 110.88 92.239 125.8 67.9999 125.8C43.761 125.8 23.0067 110.88 14.4205 89.7223C13.557 87.5946 15.1904 85.3628 17.4868 85.3628H118.513Z"
										fill="#EDEBDE"
									/>
									<path
										d="M121.579 46.2779C122.443 48.4058 120.81 50.6376 118.513 50.6376H17.4868C15.1904 50.6376 13.557 48.4058 14.4205 46.2779C23.0067 25.1206 43.7609 10.2002 67.9999 10.2002C92.239 10.2002 112.993 25.1206 121.579 46.2779Z"
										fill="#EDEBDE"
									/>
									<path
										d="M118.723 63.1548C122.543 63.1548 124.387 65.82 124.387 68.9072V74.7042H120.389V69.5959C120.389 68.1966 119.878 67.0417 118.412 67.0417C116.946 67.0417 116.458 68.1966 116.458 69.5959V74.7042H112.46V69.5959C112.46 68.1966 111.971 67.0417 110.505 67.0417C109.039 67.0417 108.528 68.1966 108.528 69.5959V74.7042H104.531V68.9072C104.531 65.82 106.374 63.1548 110.194 63.1548C112.282 63.1548 113.792 63.9766 114.481 65.3315C115.214 63.9766 116.813 63.1548 118.723 63.1548Z"
										fill="#EDEBDE"
									/>
									<path
										d="M97.3466 71.1507C98.6348 71.1507 99.1901 69.9736 99.1901 68.5743V63.5991H103.188V69.0629C103.188 72.3278 101.278 75.0376 97.3466 75.0376C93.4153 75.0376 91.5054 72.3278 91.5054 69.0629V63.5991H95.5031V68.5743C95.5031 69.9736 96.0585 71.1507 97.3466 71.1507Z"
										fill="#EDEBDE"
									/>
									<path
										d="M85.6268 75.0595C83.1171 75.0595 81.4957 74.1933 80.5408 72.5054L83.428 70.884C83.8279 71.5947 84.4275 71.95 85.4269 71.95C86.2487 71.95 86.6263 71.6614 86.6263 71.3061C86.6263 69.9512 80.7628 71.3282 80.7628 67.0193C80.7628 64.9316 82.5396 63.2437 85.5602 63.2437C88.2033 63.2437 89.647 64.5317 90.2911 65.7756L87.4037 67.4192C87.1594 66.7528 86.4042 66.3531 85.6491 66.3531C85.0716 66.3531 84.7607 66.5974 84.7607 66.9306C84.7607 68.3076 90.6242 67.0416 90.6242 71.2172C90.6242 73.5492 88.3366 75.0595 85.6268 75.0595Z"
										fill="#EDEBDE"
									/>
									<path
										d="M71.659 79.8124H67.6611V69.1293C67.6611 65.7311 70.2154 63.2656 73.7691 63.2656C77.2338 63.2656 79.8768 65.9088 79.8768 69.1293C79.8768 72.6829 77.5227 75.0373 73.9911 75.0373C73.1693 75.0373 72.3475 74.793 71.659 74.4152V79.8124ZM73.7691 71.2837C75.0351 71.2837 75.8789 70.3064 75.8789 69.1515C75.8789 67.9743 75.0351 67.0192 73.7691 67.0192C72.5031 67.0192 71.659 67.9743 71.659 69.1515C71.659 70.3064 72.5031 71.2837 73.7691 71.2837Z"
										fill="#EDEBDE"
									/>
									<path
										d="M63.6563 62.4221C62.3459 62.4221 61.2576 61.3337 61.2576 60.0234C61.2576 58.7128 62.3459 57.6245 63.6563 57.6245C64.9668 57.6245 66.0551 58.7128 66.0551 60.0234C66.0551 61.3337 64.9668 62.4221 63.6563 62.4221ZM61.6574 63.5992H65.6553V74.7044H61.6574V63.5992Z"
										fill="#EDEBDE"
									/>
									<path
										d="M53.9871 75.0374C50.5223 75.0374 47.8792 72.3721 47.8792 69.1294C47.8792 65.9089 50.5223 63.2437 53.9871 63.2437C57.4518 63.2437 60.095 65.9089 60.095 69.1294C60.095 72.3721 57.4518 75.0374 53.9871 75.0374ZM53.9871 71.2838C55.2531 71.2838 56.0971 70.3065 56.0971 69.1517C56.0971 67.9744 55.2531 66.9972 53.9871 66.9972C52.7211 66.9972 51.877 67.9744 51.877 69.1517C51.877 70.3065 52.7211 71.2838 53.9871 71.2838Z"
										fill="#EDEBDE"
									/>
									<path
										d="M40.3304 80.1456C37.5762 80.1456 35.5774 78.924 34.5557 76.7475L37.8651 74.9706C38.2204 75.7258 38.8868 76.5032 40.2638 76.5032C41.7074 76.5032 42.6625 75.5925 42.7735 73.9933C42.2405 74.4598 41.3965 74.8151 40.1305 74.8151C37.0433 74.8151 34.5557 72.4387 34.5557 69.107C34.5557 65.8865 37.1987 63.2656 40.6636 63.2656C44.2171 63.2656 46.7714 65.7311 46.7714 69.1293V73.527C46.7714 77.5247 43.9951 80.1456 40.3304 80.1456ZM40.597 71.0615C41.7963 71.0615 42.7068 70.2397 42.7068 69.0183C42.7068 67.8189 41.7963 67.0192 40.597 67.0192C39.4197 67.0192 38.4869 67.8189 38.4869 69.0183C38.4869 70.2397 39.4197 71.0615 40.597 71.0615Z"
										fill="#EDEBDE"
									/>
									<path
										d="M27.7735 75.0374C24.3087 75.0374 21.6655 72.3721 21.6655 69.1294C21.6655 65.9089 24.3087 63.2437 27.7735 63.2437C31.2382 63.2437 33.8814 65.9089 33.8814 69.1294C33.8814 72.3721 31.2382 75.0374 27.7735 75.0374ZM27.7735 71.2838C29.0394 71.2838 29.8835 70.3065 29.8835 69.1517C29.8835 67.9744 29.0394 66.9972 27.7735 66.9972C26.5075 66.9972 25.6634 67.9744 25.6634 69.1517C25.6634 70.3065 26.5075 71.2838 27.7735 71.2838Z"
										fill="#EDEBDE"
									/>
									<path
										d="M14.3858 59.7124V70.9287H21.0044V74.7044H13.8305C11.2985 74.7044 10.2769 73.3717 10.2769 71.2617V59.7124H14.3858Z"
										fill="#EDEBDE"
									/>
									<path
										d="M57.7998 11.0974C61.1109 10.5078 64.5194 10.2002 68 10.2002C71.4804 10.2002 74.8889 10.5078 78.1998 11.0973V50.6376H57.7998V11.0974Z"
										fill="#AC2828"
									/>
									<path
										d="M78.2008 85.3628H57.7989C57.7561 94.2332 56.1399 103.027 53.0246 111.334L48.8215 122.542C54.8227 124.653 61.2773 125.8 67.9999 125.8C74.7224 125.8 81.177 124.653 87.1781 122.542L82.975 111.334C79.8598 103.027 78.2436 94.2332 78.2008 85.3628Z"
										fill="#AC2828"
									/>
									<path
										d="M78.2 11.0972C85.5793 12.4111 92.4743 15.1253 98.6 18.9554V50.6375H78.2V11.0972Z"
										fill="#45D099"
									/>
									<path
										d="M87.1783 122.542C96.4559 119.28 104.65 113.718 111.077 106.54L110.074 105.902C103.03 101.419 98.7242 93.6952 98.6026 85.3628H78.2009C78.2438 94.2332 79.86 103.027 82.9754 111.334L87.1783 122.542Z"
										fill="#45D099"
									/>
									<path
										d="M37.3999 18.9554C43.5255 15.1254 50.4204 12.4111 57.7999 11.0972V50.6375H37.3999V18.9554Z"
										fill="#DEB038"
									/>
									<path
										d="M37.3972 85.3628H57.7989C57.7562 94.1953 56.1536 102.952 53.0644 111.228L48.8215 122.542C39.5438 119.28 31.3496 113.718 24.9231 106.54L25.9259 105.902C32.97 101.419 37.2756 93.6952 37.3972 85.3628Z"
										fill="#DEB038"
									/>
								</g>
								<defs>
									<clipPath id="clip0_3293_7236">
										<rect width="136" height="136" fill="white" />
									</clipPath>
								</defs>
							</svg>
						</div>
						<div className="text-start self-start">
							<h1 className="text-xl font-semibold">مرحبا بعودتك</h1>
							<p className="text-sm text-muted-foreground">
								تم تسجيل الدخول للتحكم في شركتك بنظام
							</p>
						</div>
						<form onSubmit={handleSubmit} className="flex flex-col space-y-6 w-full">
							<CustomInput
								label="Email"
								type="email"
								value={email}
								onChange={(e) => setEmail(e.target.value)}
								placeholder="Enter your email"
								required
							/>

							<CustomInput
								label="Password"
								type="password"
								value={password}
								onChange={(e) => setPassword(e.target.value)}
								placeholder="Enter your password"
								required
							/>

							<Button
								type="submit"
								className="w-[327px] h-[64px] bg-emerald-500 hover:bg-emerald-600"
								disabled={loginMutation.isPending}
							>
								{loginMutation.isPending ? "Logging in..." : "Login"}
							</Button>
						</form>{" "}
					</div>
				</CardContent>
			</Card>
		</div>
	);
}
